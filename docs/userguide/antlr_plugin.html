<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>第四十章. ANTLR 插件 - Chapter&nbsp;40.&nbsp;The ANTLR Plugin</title>
  <link xmlns:xslthl="http://xslthl.sf.net" type="text/css" rel="stylesheet" href="base.css">
  <link xmlns:xslthl="http://xslthl.sf.net" type="text/css" rel="stylesheet" href="docs.css">
  <link xmlns:xslthl="http://xslthl.sf.net" type="text/css" rel="stylesheet" href="userguide.css">
  <meta content="DocBook XSL Stylesheets V1.75.2" name="generator">
  <link rel="home" href="userguide.html" title="Gradle 用户指南">
  <link rel="up" href="userguide.html" title="Gradle 用户指南">
  <link rel="prev" href="idea_plugin.html" title="第三十九章.&nbsp;IDEA 插件">
  <link rel="next" href="project_reports_plugin.html" title="第四十一章. 项目报告插件">
 </head>
 <body>
  <div class="navheader">
   <div>
    <div class="navbar">
     <a xmlns:xslthl="http://xslthl.sf.net" href="idea_plugin.html" title="第三十九章.&nbsp;IDEA 插件">上一章</a>
     <span>|</span>
     <a xmlns:xslthl="http://xslthl.sf.net" href="userguide.html" title="Gradle 用户指南">目录</a>
     <span>|</span>
     <a xmlns:xslthl="http://xslthl.sf.net" href="project_reports_plugin.html" title="第四十一章. 项目报告插件">下一章</a>
    </div>
   </div>
  </div>
  <div class="chapter">
   <div class="titlepage">
    <div>
     <div>
      <h1 xmlns:xslthl="http://xslthl.sf.net"><a name="antlr_plugin"></a>第四十章. ANTLR 插件</h1>
      <h3 xmlns:xslthl="http://xslthl.sf.net"><a name="antlr_plugin"></a>Chapter&nbsp;40.&nbsp;The ANTLR Plugin</h3>
     </div>
    </div>
   </div>
   <p>ANTLR 插件扩展自 Java 插件并添加了对使用 <a class="ulink" href="http://www.antlr.org/" target="_top">ANTLR</a> 的生成解析器的支持。<br>The ANTLR plugin extends the Java plugin to add support for generating parsers using <a class="ulink" href="http://www.antlr.org/" target="_top">ANTLR</a>.</p>
   <div class="note">
    <p> ANTLR插件只支持ANTLR版本2。 <br>The ANTLR plugin only supports ANTLR version 2.</p>
   </div>
   <div class="section">
    <div class="titlepage">
     <div>
      <div>
       <h2 class="title"><a name="N142F5"></a>40.1. 用法</h2>
       <h4 class="title"><a name="N142F5"></a>40.1.&nbsp;Usage</h4>
      </div>
     </div>
    </div>
    <p>要使用 ANTLR 插件，请在构建脚本中包含以下语句：<br>To use the ANTLR plugin, include in your build script:</p>
    <div class="example">
     <a name="useAntlrPlugin"></a>
     <p class="title"><b>示例 40.1. 使用 ANTLR 插件 - Example&nbsp;40.1.&nbsp;Using the ANTLR plugin</b></p>
     <div class="example-contents">
      <p><code class="filename">build.gradle</code></p>
      <pre class="programlisting">apply plugin: <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'antlr'</span></pre>
     </div>
    </div>
    <br class="example-break">
   </div>
   <div class="section">
    <div class="titlepage">
     <div>
      <div>
       <h2 class="title"><a name="N14304"></a>40.2. 任务</h2>
       <h4 class="title"><a name="N14304"></a>40.2.&nbsp;Tasks</h4>
      </div>
     </div>
    </div>
    <p>ANTLR 插件向你的项目添加了许多任务，如下所示。<br>The ANTLR plugin adds a number of tasks to your project, as shown below.</p>
    <div xmlns:xslthl="http://xslthl.sf.net" class="table">
     <p class="title"><b>表 40.1. ANTLR 插件——任务 - Table&nbsp;40.1.&nbsp;ANTLR plugin - tasks</b></p>
     <div class="table-contents">
      <table id="N14309">
       <thead>
        <tr> 
         <td>任务名称<br>Task name</td> 
         <td>依赖于<br>Depends on</td> 
         <td>类型<br>Type</td> 
         <td>描述<br>Description</td> 
        </tr>
       </thead>
       <tbody>
        <tr> 
         <td> <code class="literal">generateGrammarSource</code> </td> 
         <td>-</td> 
         <td><a class="ulink" href="../dsl/org.gradle.api.plugins.antlr.AntlrTask.html" target="_top"><code class="classname">AntlrTask</code></a></td> 
         <td>为所有生产 ANTLR 语法生成源文件。<br>Generates the source files for all production ANTLR grammars.</td> 
        </tr>
        <tr> 
         <td> <code class="literal">generateTestGrammarSource</code> </td> 
         <td>-</td> 
         <td><a class="ulink" href="../dsl/org.gradle.api.plugins.antlr.AntlrTask.html" target="_top"><code class="classname">AntlrTask</code></a></td> 
         <td>为所有测试 ANTLR 语法生成源文件。<br>Generates the source files for all test ANTLR grammars.</td> 
        </tr>
        <tr> 
         <td> <code class="literal">generate<em class="replaceable"><code>SourceSet</code></em>GrammarSource</code> </td> 
         <td>-</td> 
         <td><a class="ulink" href="../dsl/org.gradle.api.plugins.antlr.AntlrTask.html" target="_top"><code class="classname">AntlrTask</code></a></td> 
         <td>为给定源集的所有 ANTLR 语法生成源文件。<br>Generates the source files for all ANTLR grammars for the given source set.</td> 
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <p>ANTLR 插件向 Java 插件所添加的任务添加了以下依赖。<br>The ANTLR plugin adds the following dependencies to tasks added by the Java plugin.</p>
    <div xmlns:xslthl="http://xslthl.sf.net" class="table">
     <p class="title"><b>表 40.2. ANTLR 插件——附加的任务依赖 - Table&nbsp;40.2.&nbsp;ANTLR plugin - additional task dependencies</b></p>
     <div class="table-contents">
      <table id="N1435C">
       <thead>
        <tr>
         <td>任务名称<br>Task name</td>
         <td>依赖于<br>Depends on</td>
        </tr>
       </thead>
       <tbody>
        <tr> 
         <td>CompileJava</td> 
         <td>generateGrammarSource</td> 
        </tr>
        <tr> 
         <td>compileTestJava</td> 
         <td>generateTestGrammarSource</td> 
        </tr>
        <tr> 
         <td>compile<em class="replaceable"><code>SourceSet</code></em>Java</td> 
         <td>generate<em class="replaceable"><code>SourceSet</code></em>GrammarSource</td> 
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="section">
    <div class="titlepage">
     <div>
      <div>
       <h2 class="title"><a name="N14382"></a>40.3. 项目布局</h2>
       <h4 class="title"><a name="N14382"></a>40.3.&nbsp;Project layout</h4>
      </div>
     </div>
    </div>
    <div xmlns:xslthl="http://xslthl.sf.net" class="table">
     <p class="title"><b>表 40.3. ANTLR 插件——项目布局 - Table&nbsp;40.3.&nbsp;ANTLR plugin - project layout</b></p>
     <div class="table-contents">
      <table id="N14385">
       <thead>
        <tr> 
         <td>目录<br>Directory</td> 
         <td>意义<br>Meaning</td> 
        </tr>
       </thead>
       <tbody>
        <tr> 
         <td> <code class="filename">src/main/antlr</code> </td> 
         <td>生产 ANTLR 语法文件。<br>Production ANTLR grammar files.</td> 
        </tr>
        <tr> 
         <td> <code class="filename">src/test/antlr</code> </td> 
         <td>测试 ANTLR 语法文件。<br>Test ANTLR grammar files.</td> 
        </tr>
        <tr> 
         <td> <code class="filename">src/<em class="replaceable"><code>sourceSet</code></em>/antlr</code> </td> 
         <td>给定源集的 ANTLR 语法文件。<br>ANTLR grammar files for the given source set.</td> 
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="section">
    <div class="titlepage">
     <div>
      <div>
       <h2 class="title"><a name="N143B5"></a>40.4. 依赖管理</h2>
       <h4 class="title"><a name="N143B5"></a>40.4.&nbsp;Dependency management</h4>
      </div>
     </div>
    </div>
    <p>ANTLR 插件添加了一个 <code class="literal">antlr</code> 依赖配置，你可以使用它来声明你希望使用的 ANTLR 依赖。<br>The ANTLR plugin adds an <code class="literal">antlr</code> dependency configuration. You use this to declare the ANTLR dependency that you wish to use.</p>
    <div class="example">
     <a name="declareAntlrVersion"></a>
     <p class="title"><b>示例 40.2. 声明 ANTLR 版本 - Example&nbsp;40.2.&nbsp;Declare ANTLR version</b></p>
     <div class="example-contents">
      <p><code class="filename">build.gradle</code></p>
      <pre class="programlisting">repositories {
    mavenCentral()
}

dependencies {
    antlr <span xmlns:xslthl="http://xslthl.sf.net" class="hl-string">'antlr:antlr:2.7.7'</span>
}</pre>
     </div>
    </div>
    <br class="example-break">
   </div>
   <div class="section">
    <div class="titlepage">
     <div>
      <div>
       <h2 class="title"><a name="N143C7"></a>40.5. 约定属性</h2>
       <h4 class="title"><a name="N143C7"></a>40.5.&nbsp;Convention properties</h4>
      </div>
     </div>
    </div>
    <p>ANTLR 插件不添加任何约定属性。<br>The ANTLR plugin does not add any convention properties.</p>
   </div>
   <div class="section">
    <div class="titlepage">
     <div>
      <div>
       <h2 class="title"><a name="N143CC"></a>40.6. 源集属性</h2>
       <h4 class="title"><a name="N143CC"></a>40.6.&nbsp;Source set properties</h4>
      </div>
     </div>
    </div>
    <p>ANTLR 插件向项目的每一个源集添加了下列属性。<br>The ANTLR plugin adds the following properties to each source set in the project.</p>
    <div xmlns:xslthl="http://xslthl.sf.net" class="table">
     <p class="title"><b>表 40.4. ANTLR 插件——源集属性 - Table&nbsp;40.4.&nbsp;ANTLR plugin - source set properties</b></p>
     <div class="table-contents">
      <table id="N143D1">
       <thead>
        <tr> 
         <td>属性名称<br>Property name</td> 
         <td>类型<br>Type</td> 
         <td>默认值<br>Default value</td> 
         <td>描述<br>Description</td> 
        </tr>
       </thead>
       <tbody>
        <tr> 
         <td> <code class="literal">antlr</code> </td> 
         <td> <a class="ulink" href="../javadoc/org/gradle/api/file/SourceDirectorySet.html" target="_top"><code class="classname">SourceDirectorySet</code></a> （只读） <br><a class="ulink" href="../javadoc/org/gradle/api/file/SourceDirectorySet.html" target="_top"><code class="classname">SourceDirectorySet</code></a> (read-only)</td> 
         <td> 不为 null <br>Not null</td> 
         <td> 此源集的 ANTLR 语法文件。包含在ANTLR源目录中找到的所有<code class="filename">.g</code>文件，并排除所有其他类型的文件。 <br>The ANTLR grammar files of this source set. Contains all <code class="filename">.g</code> found in the ANTLR source directories, and excludes all other types of files.</td> 
        </tr>
        <tr> 
         <td> <code class="literal">antlr.srcDirs</code> </td> 
         <td> <code class="classname">Set&lt;File&gt;</code>。可以使用《<a class="xref" href="working_with_files.html#sec:specifying_multiple_files">第 16.5 节，“指定一组输入文件”</a>》中所讲到的任何一种方法来设置。 <br><code class="classname">Set&lt;File&gt;</code>. Can set using anything described in <a class="xref" href="working_with_files.html#sec:specifying_multiple_files">Section&nbsp;16.5, “Specifying a set of input files”</a>.</td> 
         <td> <code class="literal">[<em class="replaceable"><code>projectDir</code></em>/src/<em class="replaceable"><code>name</code></em>/antlr]</code> </td> 
         <td> 包含该源集的 ANTLR 语法文件的源目录。 <br>The source directories containing the ANTLR grammar files of this source set.</td> 
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
  </div>
  <div class="navfooter">
   <div>
    <div class="navbar">
     <a xmlns:xslthl="http://xslthl.sf.net" href="idea_plugin.html" title="第三十九章.&nbsp;IDEA 插件">上一章</a>
     <span>|</span>
     <a xmlns:xslthl="http://xslthl.sf.net" href="userguide.html" title="Gradle 用户指南">目录</a>
     <span>|</span>
     <a xmlns:xslthl="http://xslthl.sf.net" href="project_reports_plugin.html" title="第四十一章. 项目报告插件">下一章</a>
    </div>
   </div>
  </div>
 </body>
</html>